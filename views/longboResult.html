<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />
	<title>龙伯球仿真</title>
	<link rel="stylesheet" type="text/css" href="bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
	<div class="container">
		<div class="panel panel-success">
			<div class="panel-heading">
				<h1 class="middle">多层介质球电磁散射仿真软件</h1>
			</div>
		<ul class="breadcrumb" style="font-size:20px;margin-top:10px;margin-bottom:0px;">
		  <li class="active">龙伯球</li>		  
		  <li><a href="yinxing">隐形材料</a> <span class="divider"></span></li>
		  <li><a href="zidingyi">自定义</a> <span class="divider"></span></li>
		</ul>
		<div class="panel-body">
			<div class="row">
				<div class="col-md-5">
					<div class="panel panel-info">
						<div class="panel-heading">
							<h3 class="middle">龙伯球仿真</h3>
						</div>
						<div class="panel-body" >
							<form class="form-horizontal" action="/longbo" method="post">
								<div class="form-group">
									<label class="col-sm-4 text-1">请输入层数</label>
									<div class="col-sm-5">
										<input type="text" oninput="authValue()" onpropertychange="authValue()" id="longboLayerNum" name="longboLayerNum" class="form-control" placeholder="层数(1到10之间的整数){{dataIn.layerNum}}">
									</div>
									<div class="col-sm-3">
										<button id="btn" type="submit" disabled="true" class="btn btn-info">确 定</button>
									</div>
								</div>
								<p class="result_choose" id ="result_choose" ></p>
							</from>
						</div>
					</div>
					<div class="panel panel-warning">
						<div class="panel-heading">
							<h3 class="middle">介电常数</h3>
						</div>
						<table id="jdConst" class="table table-striped">
						</table>
					</div>
				</div>
				<div class="col-md-7">
					<div class="panel panel-danger">
						<div class="panel-heading">
							<h3 class="middle">龙伯球散射截面</h3>
						</div>
						<div class="panel-body">
							<img src="{{position}}"  alt="龙伯球散射截面" style="margin-left: 20px;width:733px;height:550px;">
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</div>
	<div id="shenjingbing" style="display: none;">{{dataOut}}</div>
</body>
<script>
	var jdConst = document.getElementById('jdConst');
	var result = document.getElementById('shenjingbing').innerText;
	result = result.split(/\,/);
	var jdConstHTML = '';
	result.forEach(function(num) {
		jdConstHTML += '<tr><td style="text-align:center;">' + num + '</td></tr>';
	});
	jdConst.innerHTML = jdConstHTML;

	function authValue() {
		var longboLayerNum = document.getElementById('longboLayerNum').value;
		var btn = document.getElementById('btn');
		var re = /^([1-9]|10)$/;
		console.log(re.test(longboLayerNum));
		if (re.test(longboLayerNum)) {
			btn.disabled = false;
		} else {
			alert('请输入1-10的数');
			btn.disabled = true;
		};
	};
</script>
</html>